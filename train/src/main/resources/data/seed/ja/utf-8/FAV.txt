FAV（ファブ、FAbricatable Voxel）は、Additive Manufacturing、または3Dプリンティングとも呼ばれる積層造形プロセスのための3Dデータフォーマットである。デジタルな計算処理と、フィジカルな物質の組成をつなげることに威力を発揮する。


概要
従来の3Dデータフォーマットのようにメッシュ（ポリゴン）で3次元モデルの表面のみを記述するのではなく、立方体や球体など3次元の基本要素であるボクセルで3次元モデルを表現している。各ボクセルには、RGBやCMYKなどの色情報、ABS樹脂やナイロンなどの材料情報など、様々な属性を定義できる。また、お互いの接続強度など、ボクセル同士の関係性を管理することができる。FAVにより、硬い材料や軟らかい材料など複数の材料の分布を細かくデザインする、複雑に入り組んだ内部構造を自由にデザインするなど、高い表現力を持つ立体物を作ることが可能となる。


特徴


コンセプト
FAVは、fabricatable voxelの略である。FAVフォーマットで記載された3Dモデルデータは、fabricatableである、つまりものづくりに利用するために最適化された情報として格納されていることを示している。ものづくりに利用することができる最適化された情報とは、以下のようなことを示す。

3Dモデルデータの外部、内部を問わず、形状、材料、色、接合強度、等といったものづくりに必要な情報が立体的な位置ごとに明確に定義されていること
3Dモデルデータのデザイン(CAD)、解析(CAE)、検査（CAT）を、データ変換することなく統一的、かつ双方向的に行うことができること3Dモデルデータにより高い表現力を発揮し、ものづくりに活かすことで、これまで作ることができなかったものを考え、作ることができ、3Dモデルデータを介したコミュニケーションの促進にも寄与する。 特に、これまで分かれていた、画像処理、医療用のMRI/CTスキャンデータ、複合材料の混合による工業製品といった３つの分野を横断し、相互の境界を超えた新しいアプリケーションを生み出すことに役立つ。
3Dモデルの外側/内側を問わず、デザイナーが思った通りに・隅々まで・徹底的に・精緻にデザインできること、それをデータとして保存できることを担保している。FAVフォーマットは、これらを兼ね備えた3Dモデルデータである。


効果
ボクセルを用いて3次元的な形状を定義することができるため、種類の違うボクセルを組み合わせたり、ボクセルの有り無しを組み合わせたりすることで、微細構造、内包構造、繰り返し構造などの様々な構造を表現することができる。ボクセルという基本要素の積み上げで3次元的な物体を定義することで、以下のようなメリットを得ることができる。

外側から見た形状だけでなく、内側の形状までボクセルの配置で表現できる
形状だけでなく、材料や色や接合強度などといった様々な属性の構造をボクセルの配置で表現できる
ボクセルは有限要素であり、デザイン(CAD)したフォーマットのままシミュレーション(CAE)を行うことができる。また、シミュレーション結果からボクセル単位での設計変更を行うことができる。


構造


環境条件


座標系
FAVフォーマットで扱われる座標系は、積層面をXY平面とし、積層高さ方向をZ軸プラス方向であるとする、右手座標系で記述される。3Dプリンターなどの製造装置のワークエリアを考えた時、 装置の原点から見て製造する高さがZ軸、幅がX軸、奥行きがY軸となるように向きを合わせ、3Dモデルデータが収まるように配置することが推奨される。


座標の単位
FAVフォーマット内で使用される座標値1は、実世界上の1mmとして記述される。アプリケーションによって、インチや他の単位に変換して使用してもよい。ただしその場合でも、FAVフォーマットに保存する際は、座標値1が実世界上の1mmになるようにしなければならない。環境やアプリケーションによって、同じFAVファイルが違う寸法で解析されることを避けなければならない。


フォーマット
FAVフォーマットはXMLで記述されており、どのようなコンピュータでも一般的に読み書きできる。FAVフォーマット内の要素、並びに属性のラベルは、すべて小文字で記載する。複数の単語からなるラベルは、単語同士がunderlineで接続されて記載する。
FAVフォーマットの各種要素は、以下のようなツリー構造を持つ。
<fav> FAVフォーマットのRoot要素である。FAVフォーマットに則って定義された3Dモデルデータは、<fav>という要素から開始される。FAVフォーマットで定義され、管理されるデータはすべて<fav>以下に格納される。

<metadata> FAVフォーマットで定義される各種データに関するメタデータ（<id>、<title>、<author>、<license>、<note>）が記載される。<metadata>は、<fav>、<material>、<object>を親要素として定義することができる。どの階層に定義した場合でも、<metadata>以下に定義できる要素は同じである。ただし、必要な要素のみ定義すればよい。
<palette> 3DモデルデータをFAVフォーマットに基づいて構成するための前準備として、voxelの形状（<geometry>）や材料（<material>）などの基本情報の登録を行う。<palette>に登録された基本情報で構成される<voxel>を用いて<object>を定義することで、3DモデルデータをFAVフォーマットとして定義する。
<voxel> 3DモデルデータをFAVフォーマットに基づいて構成するための基本要素である。voxelを立体的に積み上げていくことで、3Dモデルデータの構造を定義する。<voxel>は<palette>に登録されている<geometry>や<material>などの情報を保持する。そのため、3Dモデルデータの各位置において、形状以外の情報も定義することができる。
<object> FAVフォーマットにより定義される実際の3Dモデルデータである。3Dモデルデータを格納するための<grid>が定義され、その中に3Dモデルデータの構造である<structure>が記載される。3Dモデルデータは、形状を表す<voxel_map>、色情報を表す<color_map>、接合強度情報を表す<link_map>に分けて記載される。


脚注


出典


関連項目
Standard Triangulated Language（STL） - ファイルフォーマット
Additive Manufacturing File Format（AMF）


外部リンク
3Dデータフォーマット「FAV（ファブ）」 - 富士ゼロックス株式会社で公開されている3Dデータフォーマット「FAV（ファブ）」の技術紹介ページ
ファブ地球社会創造拠点「プロセス＆テクノロジーグループ」 - 慶應義塾大学SFCで公開されている、FAVを扱う基本ツールでもある「VoxFab」等が入手可能
慶應義塾大学 湘南藤沢キャンパス（SFC）